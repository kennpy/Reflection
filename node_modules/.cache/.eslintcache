[{"/Users/kenjismith/programming/personal/reflect/src/index.js":"1","/Users/kenjismith/programming/personal/reflect/src/App.js":"2","/Users/kenjismith/programming/personal/reflect/src/components/Audio.js":"3","/Users/kenjismith/programming/personal/reflect/src/components/ReflectionArea.js":"4","/Users/kenjismith/programming/personal/reflect/src/components/SideBar.js":"5","/Users/kenjismith/programming/personal/reflect/src/components/Prompt.js":"6","/Users/kenjismith/programming/personal/reflect/src/components/ReflectionTextEntry.js":"7","/Users/kenjismith/programming/personal/reflect/src/components/FetchTemplateButton.js":"8","/Users/kenjismith/programming/personal/reflect/src/backendConfig.js":"9","/Users/kenjismith/programming/personal/reflect/src/components/AudioCaptions.js":"10","/Users/kenjismith/programming/personal/reflect/src/components/HomePage.js":"11","/Users/kenjismith/programming/personal/reflect/src/components/Login.js":"12","/Users/kenjismith/programming/personal/reflect/src/components/Register.js":"13","/Users/kenjismith/programming/personal/reflect/src/context/UserContext.js":"14","/Users/kenjismith/programming/personal/reflect/src/components/TemplateForm.js":"15"},{"size":254,"mtime":1688139077948,"results":"16","hashOfConfig":"17"},{"size":1367,"mtime":1688312001153,"results":"18","hashOfConfig":"17"},{"size":841,"mtime":1688240315468,"results":"19","hashOfConfig":"17"},{"size":2402,"mtime":1688310553209,"results":"20","hashOfConfig":"17"},{"size":2141,"mtime":1688310553210,"results":"21","hashOfConfig":"17"},{"size":66,"mtime":1688231886208,"results":"22","hashOfConfig":"17"},{"size":615,"mtime":1688241010265,"results":"23","hashOfConfig":"17"},{"size":2157,"mtime":1688274387573,"results":"24","hashOfConfig":"17"},{"size":36,"mtime":1688226472991,"results":"25","hashOfConfig":"17"},{"size":74,"mtime":1688232341321,"results":"26","hashOfConfig":"17"},{"size":443,"mtime":1688259503690,"results":"27","hashOfConfig":"17"},{"size":2544,"mtime":1688271515372,"results":"28","hashOfConfig":"17"},{"size":2316,"mtime":1688267926693,"results":"29","hashOfConfig":"17"},{"size":100,"mtime":1688271210738,"results":"30","hashOfConfig":"17"},{"size":4072,"mtime":1688314132315,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},"1qjv83f",{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"35"},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"35"},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"35"},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"35"},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"35"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"35"},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/kenjismith/programming/personal/reflect/src/index.js",[],[],[],"/Users/kenjismith/programming/personal/reflect/src/App.js",["84","85","86","87"],[],"/Users/kenjismith/programming/personal/reflect/src/components/Audio.js",["88"],[],"import React, { useEffect, useState } from \"react\";\n\nfunction AudioElement({ audio, source, playSound, startingTime }) {\n  const [audioStatusLabel, setAudioStatusLabel] = useState(\"\");\n  console.log(\"Rendering AudioElement\", playSound);\n  useEffect(() => {\n    console.log(\"useEffect being called in AudioElement\", playSound);\n    audio.currentTime = startingTime;\n    playSound ? playAudio(audio) : pauseAudio(audio);\n  }, [playSound]);\n\n  function playAudio(audio) {\n    audio.play();\n    setAudioStatusLabel(\"Playing audio ...\");\n  }\n\n  function pauseAudio(audio) {\n    audio.pause();\n    setAudioStatusLabel(\"Pausing audio ...\");\n  }\n\n  return (\n    <>\n      <p>{audioStatusLabel}</p>\n      {/* <audio controls loop>\n        <source src={audioData.src} type=\"audio/mp3\" />\n      </audio> */}\n    </>\n  );\n}\n\nexport default AudioElement;\n","/Users/kenjismith/programming/personal/reflect/src/components/ReflectionArea.js",[],[],"/Users/kenjismith/programming/personal/reflect/src/components/SideBar.js",["89"],[],"import React from \"react\";\nconst { PORT } = require(\"../backendConfig\");\nconst FETCH_TEMPLATE_PATH = `http://localhost:${PORT}/templates`;\n\nfunction SideBar({\n  userAnswers,\n  setCaption,\n  setAudioSource,\n  setSoundStatus,\n  setStartingTime,\n  makeNewAudio,\n  setTemplateId,\n}) {\n  async function iterateCaptions(template, setCaption) {\n    for (const item of template.lyrics) {\n      await setCaptionForDuration(item.lyric, item.duration, setCaption);\n    }\n  }\n\n  function setCaptionForDuration(lyric, duration, setCaption) {\n    return new Promise((resolve) => {\n      setCaption(lyric);\n      setTimeout(() => resolve(), duration);\n    });\n  }\n\n  function getTotalCaptionTime(template) {\n    let totalDuration = 0;\n    for (let item of template.lyrics) {\n      totalDuration += item.duration;\n    }\n    return totalDuration;\n  }\n  async function startAudio(template) {\n    const audioFilePrefix = \"data:audio/mpeg;base64,\";\n    //setAudioSource(audioFilePrefix + template.audioFile);\n    console.log(\"starting audio from side bar click\", setTemplateId);\n    setTemplateId(template._id);\n    setStartingTime(0);\n    setSoundStatus(true);\n    makeNewAudio(new Audio(audioFilePrefix + template.audioFile));\n    const totalCaptionTime = getTotalCaptionTime(template);\n    setTimeout(() => setSoundStatus(false), totalCaptionTime);\n    await iterateCaptions(template, setCaption);\n    setCaption(\"Time to reflect ...\");\n  }\n\n  function handleClick(event) {\n    const list = event.target.parentElement;\n    const requestUrl = FETCH_TEMPLATE_PATH + \"/\" + list.dataset.templateId;\n    console.log(\"url for get request : \", requestUrl);\n    const template = fetch(requestUrl, {})\n      .then((data) => data.json())\n      .then((template) => {\n        console.log(template);\n        startAudio(template);\n      });\n  }\n\n  const listItems =\n    userAnswers &&\n    userAnswers.map((answer) => (\n      <li\n        key={answer._id}\n        data-template-id={answer.templateId}\n        data-answer-id={answer._id}\n      >\n        <p>{answer.text}</p>\n      </li>\n    ));\n  return <ul onClick={handleClick}>{listItems}</ul>;\n}\n\nexport default SideBar;\n","/Users/kenjismith/programming/personal/reflect/src/components/Prompt.js",[],[],"/Users/kenjismith/programming/personal/reflect/src/components/ReflectionTextEntry.js",[],[],"/Users/kenjismith/programming/personal/reflect/src/components/FetchTemplateButton.js",["90"],[],"import React from \"react\";\nimport SideBar from \"../components/SideBar\";\nconst { PORT } = require(\"../backendConfig\");\nconst FETCH_TEMPLATE_PATH = `http://localhost:${PORT}/templates`;\n\n//TODO : Add setAudio prop to update audio component\nconst FetchTemplateButton = ({\n  setCaption,\n  setAudioSource,\n  setSoundStatus,\n  setStartingTime,\n  makeNewAudio,\n  setTemplateId,\n}) => {\n  async function iterateCaptions(template, setCaption) {\n    for (const item of template.lyrics) {\n      await setCaptionForDuration(item.lyric, item.duration, setCaption);\n    }\n  }\n\n  function setCaptionForDuration(lyric, duration, setCaption) {\n    return new Promise((resolve) => {\n      setCaption(lyric);\n      setTimeout(() => resolve(), duration);\n    });\n  }\n\n  function getTotalCaptionTime(template) {\n    let totalDuration = 0;\n    for (let item of template.lyrics) {\n      totalDuration += item.duration;\n    }\n    return totalDuration;\n  }\n\n  async function startAudio(template) {\n    const audioFilePrefix = \"data:audio/mpeg;base64,\";\n    //setAudioSource(audioFilePrefix + template.audioFile);\n    setTemplateId(template._id);\n    setStartingTime(0);\n    setSoundStatus(true);\n    makeNewAudio(new Audio(audioFilePrefix + template.audioFile));\n    const totalCaptionTime = getTotalCaptionTime(template);\n    setTimeout(() => setSoundStatus(false), totalCaptionTime);\n    await iterateCaptions(template, setCaption);\n    setCaption(\"Time to reflect ...\");\n  }\n\n  function handleClick() {\n    const template = fetch(FETCH_TEMPLATE_PATH, {})\n      .then((data) => data.json())\n      .then((template) => {\n        console.log(template);\n        // update audio and show elements on screen\n        //updateAudio(template.audioFile);\n        //const audioAsBinary = window.atob(template.audioFile);\n        startAudio(template);\n      });\n  }\n  return (\n    <>\n      <SideBar\n        fetchNewTemplate={handleClick}\n        setCaption\n        setAudioSource\n        setSoundStatus\n        setStartingTime\n        makeNewAudio\n        setTemplateId\n      />\n      <button onClick={handleClick}>Fetch Template</button>\n    </>\n  );\n};\n\nexport default FetchTemplateButton;\n","/Users/kenjismith/programming/personal/reflect/src/backendConfig.js",[],[],"/Users/kenjismith/programming/personal/reflect/src/components/AudioCaptions.js",[],[],"/Users/kenjismith/programming/personal/reflect/src/components/HomePage.js",["91","92"],[],"import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction HomePage() {\n  return (\n    <div className=\"home-page\">\n      <h1>Welcome to reflect!</h1>\n      <nav>\n        <ul>\n          <li>\n            <Link to=\"/login\">Login</Link>\n          </li>\n          <li>\n            <Link to=\"/template\">Reflect</Link>\n          </li>\n        </ul>\n      </nav>\n    </div>\n  );\n}\n\nexport default HomePage;\n","/Users/kenjismith/programming/personal/reflect/src/components/Login.js",["93","94","95","96"],[],"import React, { useEffect, useState } from \"react\";\nconst { PORT } = require(\"../backendConfig\");\nconst FETCH_LOGIN_PATH = `http://localhost:${PORT}/users/login`;\n\nfunction Login({ setUserId, setUserName }) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginErrorExists, setLoginError] = useState(false);\n  const [loginErrorMessage, setLoginErrorMessage] = useState(\"\");\n\n  function checkFormIsFilled() {\n    let formIsFilled = true;\n    if (username === \"\") {\n      setLoginErrorMessage(\"Username cannot be empty\");\n      formIsFilled = false;\n    } else if (password === \"\") {\n      setLoginErrorMessage(\"Password cannot be empty\");\n      formIsFilled = false;\n    }\n    return formIsFilled;\n  }\n\n  async function handleLogin(evt) {\n    evt.preventDefault();\n    const formIsFilled = checkFormIsFilled();\n    if (formIsFilled) {\n      // validate sign in info on backend and sign them in\n      fetch(FETCH_LOGIN_PATH, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          username,\n          password,\n        }),\n      })\n        .then((res) => res.json())\n        .then((login) => {\n          if (login.success) {\n            console.log(\"LOGIN SUCCESS\", login);\n            setUserId(login.userId);\n            setUserName(login.username);\n          } else {\n            console.log(\"LOGIN FAILURE\");\n          }\n        });\n      //else show invalid credentials\n    }\n  }\n\n  return (\n    <div className=\"login-page\">\n      <h2>LOGIN</h2>\n      <form>\n        <div>\n          <label for=\"username\">Username</label>\n          <input\n            value={username}\n            placeholder=\"Username\"\n            onChange={(e) => setUsername(e.target.value)}\n            id=\"username\"\n            name=\"username\"\n            type=\"text\"\n            autocomplete=\"username\"\n            required\n          />\n        </div>\n        <div>\n          <label for=\"current-password\">Password</label>\n          <input\n            value={password}\n            placeholder=\"Password\"\n            onChange={(e) => setPassword(e.target.value)}\n            id=\"current-password\"\n            name=\"password\"\n            type=\"password\"\n            autocomplete=\"current-password\"\n            required\n          />\n        </div>\n        <div>\n          <button type=\"submit\" onClick={handleLogin}>\n            Sign in\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","/Users/kenjismith/programming/personal/reflect/src/components/Register.js",["97","98","99","100"],[],"import React, { useEffect, useState } from \"react\";\nconst { PORT } = require(\"../backendConfig\");\nconst FETCH_REGISTER_PATH = `http://localhost:${PORT}/users/register`;\n\nfunction Register() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginErrorExists, setLoginError] = useState(false);\n  const [loginErrorMessage, setLoginErrorMessage] = useState(\"\");\n\n  function checkFormIsFilled() {\n    let formIsFilled = true;\n    if (username === \"\") {\n      setLoginErrorMessage(\"Username cannot be empty\");\n      formIsFilled = false;\n    } else if (password === \"\") {\n      setLoginErrorMessage(\"Password cannot be empty\");\n      formIsFilled = false;\n    }\n    return formIsFilled;\n  }\n\n  async function handleLogin(evt) {\n    evt.preventDefault();\n    const formIsFilled = checkFormIsFilled();\n    if (formIsFilled) {\n      // validate sign in info on backend and sign them in\n      const response = await fetch(FETCH_REGISTER_PATH, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          username,\n          password,\n        }),\n      });\n      console.log(\"login response : \", response.json());\n      //else show invalid credentials\n    }\n  }\n\n  return (\n    <div className=\"register-page\">\n      <h2>REGISTER</h2>\n      <form>\n        <div>\n          <label for=\"username\">Username</label>\n          <input\n            value={username}\n            placeholder=\"Username\"\n            onChange={(e) => setUsername(e.target.value)}\n            id=\"username\"\n            name=\"username\"\n            type=\"text\"\n            autocomplete=\"username\"\n            required\n          />\n        </div>\n        <div>\n          <label for=\"current-password\">Password</label>\n          <input\n            value={password}\n            placeholder=\"Password\"\n            onChange={(e) => setPassword(e.target.value)}\n            id=\"current-password\"\n            name=\"password\"\n            type=\"password\"\n            autocomplete=\"current-password\"\n            required\n          />\n        </div>\n        <div>\n          <button type=\"submit\" onClick={handleLogin}>\n            Register\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Register;\n","/Users/kenjismith/programming/personal/reflect/src/context/UserContext.js",[],[],"/Users/kenjismith/programming/personal/reflect/src/components/TemplateForm.js",["101","102"],[],{"ruleId":"103","severity":1,"message":"104","line":6,"column":27,"nodeType":"105","messageId":"106","endLine":6,"endColumn":33},{"ruleId":"103","severity":1,"message":"107","line":6,"column":35,"nodeType":"105","messageId":"106","endLine":6,"endColumn":40},{"ruleId":"103","severity":1,"message":"108","line":6,"column":42,"nodeType":"105","messageId":"106","endLine":6,"endColumn":48},{"ruleId":"103","severity":1,"message":"109","line":12,"column":10,"nodeType":"105","messageId":"106","endLine":12,"endColumn":18},{"ruleId":"110","severity":1,"message":"111","line":10,"column":6,"nodeType":"112","endLine":10,"endColumn":17,"suggestions":"113"},{"ruleId":"103","severity":1,"message":"114","line":52,"column":11,"nodeType":"105","messageId":"106","endLine":52,"endColumn":19},{"ruleId":"103","severity":1,"message":"114","line":50,"column":11,"nodeType":"105","messageId":"106","endLine":50,"endColumn":19},{"ruleId":"103","severity":1,"message":"115","line":1,"column":17,"nodeType":"105","messageId":"106","endLine":1,"endColumn":26},{"ruleId":"103","severity":1,"message":"116","line":1,"column":28,"nodeType":"105","messageId":"106","endLine":1,"endColumn":36},{"ruleId":"103","severity":1,"message":"115","line":1,"column":17,"nodeType":"105","messageId":"106","endLine":1,"endColumn":26},{"ruleId":"103","severity":1,"message":"117","line":8,"column":10,"nodeType":"105","messageId":"106","endLine":8,"endColumn":26},{"ruleId":"103","severity":1,"message":"118","line":8,"column":28,"nodeType":"105","messageId":"106","endLine":8,"endColumn":41},{"ruleId":"103","severity":1,"message":"119","line":9,"column":10,"nodeType":"105","messageId":"106","endLine":9,"endColumn":27},{"ruleId":"103","severity":1,"message":"115","line":1,"column":17,"nodeType":"105","messageId":"106","endLine":1,"endColumn":26},{"ruleId":"103","severity":1,"message":"117","line":8,"column":10,"nodeType":"105","messageId":"106","endLine":8,"endColumn":26},{"ruleId":"103","severity":1,"message":"118","line":8,"column":28,"nodeType":"105","messageId":"106","endLine":8,"endColumn":41},{"ruleId":"103","severity":1,"message":"119","line":9,"column":10,"nodeType":"105","messageId":"106","endLine":9,"endColumn":27},{"ruleId":"103","severity":1,"message":"115","line":1,"column":17,"nodeType":"105","messageId":"106","endLine":1,"endColumn":26},{"ruleId":"103","severity":1,"message":"120","line":6,"column":15,"nodeType":"105","messageId":"106","endLine":6,"endColumn":21},"no-unused-vars","'Router' is defined but never used.","Identifier","unusedVar","'Route' is defined but never used.","'Routes' is defined but never used.","'userName' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'audio' and 'startingTime'. Either include them or remove the dependency array.","ArrayExpression",["121"],"'template' is assigned a value but never used.","'useEffect' is defined but never used.","'useState' is defined but never used.","'loginErrorExists' is assigned a value but never used.","'setLoginError' is assigned a value but never used.","'loginErrorMessage' is assigned a value but never used.","'setMp3' is assigned a value but never used.",{"desc":"122","fix":"123"},"Update the dependencies array to be: [audio, playSound, startingTime]",{"range":"124","text":"125"},[424,435],"[audio, playSound, startingTime]"]